using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using Ecoplus.domain.core.Interfaces.Repository;
using Ecoplus.Infrastructure.Repository;

namespace Ecoplustest.Feuilles
{
    public partial class Details_expl : Form
    {
        IExploitantRepositories _exploitant=new ExploitantRepositories();
        public Details_expl()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            var nom=textBox1.Text;
            var prenom=textBox2.Text;
            var adresse=textBox3.Text;
            var tel=textBox4.Text;
            var surface=textBox5.Text;
            var departement=textBox6.Text;
            var ville=textBox7.Text;
            var datemodif=DateTime.Now.Date;
            var monexpl=new Ecoplus.domain.core.Aggregats.Exploitant(Guid.NewGuid(), nom,
                prenom,adresse,tel,float.Parse(surface), departement,ville,datemodif);
            _exploitant.Enregistrer(monexpl);
            MessageBox.Show(@"succes");
            Close();
        }

        private void button2_Click(object sender, EventArgs e)
        {
            Close();
        }
    }
}
